name: .NET

on:
  workflow_dispatch:
  push:
    branches: [ "main", "mlobanov" ]
  pull_request:
    branches: [ "main", "mlobanov" ]

jobs:
  build_latest:

    runs-on: ubuntu-latest

    env:
      DISPLAY: :10
      
    steps:
    - uses: actions/checkout@v4
    - run: |
        apt list --installed
    - run: |
        # sudo apt install -y libglfw3
        sudo apt install -y alsa-topology-conf || true
        sudo apt install -y alsa-ucm-conf || true
        sudo apt install -y azure-vm-utils || true
        sudo apt install -y binfmt-support || true
        sudo apt install -y build-essential || true
        sudo apt install -y ca-certificates-mono || true
        sudo apt install -y clang-13 || true
        sudo apt install -y clang-14 || true
        sudo apt install -y clang-15 || true
        sudo apt install -y clang-format-13 || true
        sudo apt install -y clang-format-14 || true
        sudo apt install -y clang-format-15 || true
        sudo apt install -y clang-tidy-13 || true
        sudo apt install -y clang-tidy-14 || true
        sudo apt install -y clang-tidy-15 || true
        sudo apt install -y clang-tools-13 || true
        sudo apt install -y clang-tools-14 || true
        sudo apt install -y clang-tools-15 || true
        sudo apt install -y containernetworking-plugins || true
        sudo apt install -y cpp-10 || true
        sudo apt install -y cpp-11 || true
        sudo apt install -y cpp-9 || true
        sudo apt install -y dns-root-data || true
        sudo apt install -y dnsmasq-base || true
        sudo apt install -y g++-10 || true
        sudo apt install -y g++-11 || true
        sudo apt install -y gcc-10-base || true
        sudo apt install -y gcc-10 || true
        sudo apt install -y gcc-11-base || true
        sudo apt install -y gcc-11 || true
        sudo apt install -y gcc-9-base || true
        sudo apt install -y gcc-9 || true
        sudo apt install -y gconf2-common || true
        sudo apt install -y gfortran-10 || true
        sudo apt install -y gfortran-11 || true
        sudo apt install -y gfortran-9 || true
        sudo apt install -y gir1.2-freedesktop || true
        sudo apt install -y gir1.2-gdkpixbuf-2.0 || true
        sudo apt install -y gir1.2-rsvg-2.0 || true
        sudo apt install -y gir1.2-secret-1 || true
        sudo apt install -y glib-networking-common || true
        sudo apt install -y glib-networking-services || true
        sudo apt install -y glib-networking || true
        sudo apt install -y golang-github-containernetworking-plugin-dnsname || true
        sudo apt install -y gpg-wks-server || true
        sudo apt install -y gsettings-desktop-schemas || true
        sudo apt install -y heroku || true
        sudo apt install -y imagemagick-6.q16 || true
        sudo apt install -y imagemagick || true
        sudo apt install -y irqbalance || true
        sudo apt install -y isc-dhcp-client || true
        sudo apt install -y isc-dhcp-common || true
        sudo apt install -y lib32z1 || true
        sudo apt install -y libaio1 || true
        sudo apt install -y libappstream4 || true
        sudo apt install -y libapr1 || true
        sudo apt install -y libaprutil1 || true
        sudo apt install -y libapt-pkg6.0 || true
        sudo apt install -y libarchive13 || true
        sudo apt install -y libasan5 || true
        sudo apt install -y libasan6 || true
        sudo apt install -y libasound2 || true
        sudo apt install -y libatk-bridge2.0-0 || true
        sudo apt install -y libatk1.0-0 || true
        sudo apt install -y libatk1.0-data || true
        sudo apt install -y libatm1 || true
        sudo apt install -y libatspi2.0-0 || true
        sudo apt install -y libavahi-glib1 || true
        sudo apt install -y libblas-dev || true
        sudo apt install -y libblas3 || true
        sudo apt install -y libblkid-dev || true
        sudo apt install -y libblockdev-crypto2 || true
        sudo apt install -y libblockdev-fs2 || true
        sudo apt install -y libblockdev-loop2 || true
        sudo apt install -y libblockdev-part-err2 || true
        sudo apt install -y libblockdev-part2 || true
        sudo apt install -y libblockdev-swap2 || true
        sudo apt install -y libblockdev-utils2 || true
        sudo apt install -y libblockdev2 || true
        sudo apt install -y libbpf0 || true
        sudo apt install -y libbrotli-dev || true
        sudo apt install -y libburn4 || true
        sudo apt install -y libbz2-dev || true
        sudo apt install -y libc++-14-dev || true
        sudo apt install -y libc++-dev || true
        sudo apt install -y libc++1-14 || true
        sudo apt install -y libc++abi-14-dev || true
        sudo apt install -y libc++abi-dev || true
        sudo apt install -y libc++abi1-14 || true
        sudo apt install -y libc-ares2 || true
        sudo apt install -y libcairo-script-interpreter2 || true
        sudo apt install -y libcairo2-dev || true
        sudo apt install -y libcanberra0 || true
        sudo apt install -y libcbor0.8 || true
        sudo apt install -y libclang-common-13-dev || true
        sudo apt install -y libclang-common-14-dev || true
        sudo apt install -y libclang-common-15-dev || true
        sudo apt install -y libclang-cpp13 || true
        sudo apt install -y libclang-cpp14 || true
        sudo apt install -y libclang-cpp15 || true
        sudo apt install -y libclang1-13 || true
        sudo apt install -y libclang1-14 || true
        sudo apt install -y libclang1-15 || true
        sudo apt install -y libcups2 || true
        sudo apt install -y libcurl3-gnutls || true
        sudo apt install -y libcurl4 || true
        sudo apt install -y libdav1d5 || true
        sudo apt install -y libdb5.3 || true
        sudo apt install -y libdbus-glib-1-2 || true
        sudo apt install -y libdeflate-dev || true
        sudo apt install -y libdjvulibre-dev || true
        sudo apt install -y libdjvulibre-text || true
        sudo apt install -y libdjvulibre21 || true
        sudo apt install -y libdns-export1110 || true
        sudo apt install -y libdrm-nouveau2 || true
        sudo apt install -y libdrm-radeon1 || true
        sudo apt install -y libdw1 || true
        sudo apt install -y libefiboot1 || true
        sudo apt install -y libefivar1 || true
        sudo apt install -y libelf1 || true
        sudo apt install -y libevent-core-2.1-7 || true
        sudo apt install -y libevent-pthreads-2.1-7 || true
        sudo apt install -y libexif-dev || true
        sudo apt install -y libexif12 || true
        sudo apt install -y libext2fs2 || true
        sudo apt install -y libfcgi0ldbl || true
        sudo apt install -y libfontconfig-dev || true
        sudo apt install -y libfontconfig1-dev || true
        sudo apt install -y libfreetype-dev || true
        sudo apt install -y libfreetype6-dev || true
        sudo apt install -y libfwupdplugin5 || true
        sudo apt install -y libgbm-dev || true
        sudo apt install -y libgcab-1.0-0 || true
        sudo apt install -y libgcc-10-dev || true
        sudo apt install -y libgcc-11-dev || true
        sudo apt install -y libgcc-9-dev || true
        sudo apt install -y libgconf-2-4 || true
        sudo apt install -y libgcrypt20-dev || true
        sudo apt install -y libgdbm-compat4 || true
        sudo apt install -y libgdbm6 || true
        sudo apt install -y libgdiplus || true
        sudo apt install -y libgdk-pixbuf-2.0-dev || true
        sudo apt install -y libgdk-pixbuf2.0-bin || true
        sudo apt install -y libgfortran-10-dev || true
        sudo apt install -y libgfortran-11-dev || true
        sudo apt install -y libgfortran-9-dev || true
        sudo apt install -y libgif7 || true
        sudo apt install -y libglapi-mesa || true
        sudo apt install -y libglib2.0-0 || true
        sudo apt install -y libglib2.0-dev-bin || true
        sudo apt install -y libglib2.0-dev || true
        sudo apt install -y libgnutls30 || true
        sudo apt install -y libgpg-error-dev || true
        sudo apt install -y libgpgme11 || true
        sudo apt install -y libgsl-dev || true
        sudo apt install -y libgsl27 || true
        sudo apt install -y libgslcblas0 || true
        sudo apt install -y libgtk-3-0 || true
        sudo apt install -y libhogweed6 || true
        sudo apt install -y libice-dev || true
        sudo apt install -y libilmbase-dev || true
        sudo apt install -y libilmbase25 || true
        sudo apt install -y libisc-export1105 || true
        sudo apt install -y libisns0 || true
        sudo apt install -y libisoburn1 || true
        sudo apt install -y libisofs6 || true
        sudo apt install -y libjbig-dev || true
        sudo apt install -y libjpeg-dev || true
        sudo apt install -y libjpeg-turbo8-dev || true
        sudo apt install -y libjpeg8-dev || true
        sudo apt install -y libjs-xmlextras || true
        sudo apt install -y libjte2 || true
        sudo apt install -y liblapack-dev || true
        sudo apt install -y liblapack3 || true
        sudo apt install -y liblcms2-dev || true
        sudo apt install -y libldap-2.5-0 || true
        sudo apt install -y liblldb-13 || true
        sudo apt install -y liblldb-14 || true
        sudo apt install -y liblldb-15 || true
        sudo apt install -y libllvm13 || true
        sudo apt install -y libllvm14 || true
        sudo apt install -y libllvm15 || true
        sudo apt install -y liblqr-1-0-dev || true
        sudo apt install -y libltdl-dev || true
        sudo apt install -y liblttng-ust-common1 || true
        sudo apt install -y liblttng-ust-ctl5 || true
        sudo apt install -y liblttng-ust1 || true
        sudo apt install -y liblzma-dev || true
        sudo apt install -y libmagic-dev || true
        sudo apt install -y libmagic1 || true
        sudo apt install -y libmagickcore-6-arch-config || true
        sudo apt install -y libmagickcore-6-headers || true
        sudo apt install -y libmagickcore-6.q16-6-extra || true
        sudo apt install -y libmagickcore-6.q16-6 || true
        sudo apt install -y libmagickcore-6.q16-dev || true
        sudo apt install -y libmagickcore-dev || true
        sudo apt install -y libmagickwand-6-headers || true
        sudo apt install -y libmagickwand-6.q16-6 || true
        sudo apt install -y libmagickwand-6.q16-dev || true
        sudo apt install -y libmagickwand-dev || true
        sudo apt install -y libmemcached11 || true
        sudo apt install -y libmono-2.0-1 || true
        sudo apt install -y libmono-2.0-dev || true
        sudo apt install -y libmono-accessibility4.0-cil || true
        sudo apt install -y libmono-cairo4.0-cil || true
        sudo apt install -y libmono-cecil-private-cil || true
        sudo apt install -y libmono-cil-dev || true
        sudo apt install -y libmono-codecontracts4.0-cil || true
        sudo apt install -y libmono-compilerservices-symbolwriter4.0-cil || true
        sudo apt install -y libmono-corlib4.5-cil || true
        sudo apt install -y libmono-cscompmgd0.0-cil || true
        sudo apt install -y libmono-csharp4.0c-cil || true
        sudo apt install -y libmono-custommarshalers4.0-cil || true
        sudo apt install -y libmono-data-tds4.0-cil || true
        sudo apt install -y libmono-db2-1.0-cil || true
        sudo apt install -y libmono-debugger-soft4.0a-cil || true
        sudo apt install -y libmono-http4.0-cil || true
        sudo apt install -y libmono-i18n-cjk4.0-cil || true
        sudo apt install -y libmono-i18n-mideast4.0-cil || true
        sudo apt install -y libmono-i18n-other4.0-cil || true
        sudo apt install -y libmono-i18n-rare4.0-cil || true
        sudo apt install -y libmono-i18n-west4.0-cil || true
        sudo apt install -y libmono-i18n4.0-all || true
        sudo apt install -y libmono-i18n4.0-cil || true
        sudo apt install -y libmono-ldap4.0-cil || true
        sudo apt install -y libmono-management4.0-cil || true
        sudo apt install -y libmono-messaging-rabbitmq4.0-cil || true
        sudo apt install -y libmono-messaging4.0-cil || true
        sudo apt install -y libmono-microsoft-build-engine4.0-cil || true
        sudo apt install -y libmono-microsoft-build-framework4.0-cil || true
        sudo apt install -y libmono-microsoft-build-tasks-v4.0-4.0-cil || true
        sudo apt install -y libmono-microsoft-build-utilities-v4.0-4.0-cil || true
        sudo apt install -y libmono-microsoft-build4.0-cil || true
        sudo apt install -y libmono-microsoft-csharp4.0-cil || true
        sudo apt install -y libmono-microsoft-visualc10.0-cil || true
        sudo apt install -y libmono-microsoft-web-infrastructure1.0-cil || true
        sudo apt install -y libmono-oracle4.0-cil || true
        sudo apt install -y libmono-parallel4.0-cil || true
        sudo apt install -y libmono-peapi4.0a-cil || true
        sudo apt install -y libmono-posix4.0-cil || true
        sudo apt install -y libmono-profiler || true
        sudo apt install -y libmono-rabbitmq4.0-cil || true
        sudo apt install -y libmono-relaxng4.0-cil || true
        sudo apt install -y libmono-security4.0-cil || true
        sudo apt install -y libmono-sharpzip4.84-cil || true
        sudo apt install -y libmono-simd4.0-cil || true
        sudo apt install -y libmono-smdiagnostics0.0-cil || true
        sudo apt install -y libmono-sqlite4.0-cil || true
        sudo apt install -y libmono-system-componentmodel-composition4.0-cil || true
        sudo apt install -y libmono-system-componentmodel-dataannotations4.0-cil || true
        sudo apt install -y libmono-system-configuration-install4.0-cil || true
        sudo apt install -y libmono-system-configuration4.0-cil || true
        sudo apt install -y libmono-system-core4.0-cil || true
        sudo apt install -y libmono-system-data-datasetextensions4.0-cil || true
        sudo apt install -y libmono-system-data-entity4.0-cil || true
        sudo apt install -y libmono-system-data-linq4.0-cil || true
        sudo apt install -y libmono-system-data-services-client4.0-cil || true
        sudo apt install -y libmono-system-data-services4.0-cil || true
        sudo apt install -y libmono-system-data4.0-cil || true
        sudo apt install -y libmono-system-deployment4.0-cil || true
        sudo apt install -y libmono-system-design4.0-cil || true
        sudo apt install -y libmono-system-drawing-design4.0-cil || true
        sudo apt install -y libmono-system-drawing4.0-cil || true
        sudo apt install -y libmono-system-dynamic4.0-cil || true
        sudo apt install -y libmono-system-enterpriseservices4.0-cil || true
        sudo apt install -y libmono-system-identitymodel-selectors4.0-cil || true
        sudo apt install -y libmono-system-identitymodel4.0-cil || true
        sudo apt install -y libmono-system-io-compression-filesystem4.0-cil || true
        sudo apt install -y libmono-system-io-compression4.0-cil || true
        sudo apt install -y libmono-system-json-microsoft4.0-cil || true
        sudo apt install -y libmono-system-json4.0-cil || true
        sudo apt install -y libmono-system-ldap-protocols4.0-cil || true
        sudo apt install -y libmono-system-ldap4.0-cil || true
        sudo apt install -y libmono-system-management4.0-cil || true
        sudo apt install -y libmono-system-messaging4.0-cil || true
        sudo apt install -y libmono-system-net-http-formatting4.0-cil || true
        sudo apt install -y libmono-system-net-http-webrequest4.0-cil || true
        sudo apt install -y libmono-system-net-http4.0-cil || true
        sudo apt install -y libmono-system-net4.0-cil || true
        sudo apt install -y libmono-system-numerics-vectors4.0-cil || true
        sudo apt install -y libmono-system-numerics4.0-cil || true
        sudo apt install -y libmono-system-reactive-core2.2-cil || true
        sudo apt install -y libmono-system-reactive-debugger2.2-cil || true
        sudo apt install -y libmono-system-reactive-experimental2.2-cil || true
        sudo apt install -y libmono-system-reactive-interfaces2.2-cil || true
        sudo apt install -y libmono-system-reactive-linq2.2-cil || true
        sudo apt install -y libmono-system-reactive-observable-aliases0.0-cil || true
        sudo apt install -y libmono-system-reactive-platformservices2.2-cil || true
        sudo apt install -y libmono-system-reactive-providers2.2-cil || true
        sudo apt install -y libmono-system-reactive-runtime-remoting2.2-cil || true
        sudo apt install -y libmono-system-reactive-windows-forms2.2-cil || true
        sudo apt install -y libmono-system-reactive-windows-threading2.2-cil || true
        sudo apt install -y libmono-system-reflection-context4.0-cil || true
        sudo apt install -y libmono-system-runtime-caching4.0-cil || true
        sudo apt install -y libmono-system-runtime-durableinstancing4.0-cil || true
        sudo apt install -y libmono-system-runtime-serialization-formatters-soap4.0-cil || true
        sudo apt install -y libmono-system-runtime-serialization4.0-cil || true
        sudo apt install -y libmono-system-runtime4.0-cil || true
        sudo apt install -y libmono-system-security4.0-cil || true
        sudo apt install -y libmono-system-servicemodel-activation4.0-cil || true
        sudo apt install -y libmono-system-servicemodel-discovery4.0-cil || true
        sudo apt install -y libmono-system-servicemodel-internals0.0-cil || true
        sudo apt install -y libmono-system-servicemodel-routing4.0-cil || true
        sudo apt install -y libmono-system-servicemodel-web4.0-cil || true
        sudo apt install -y libmono-system-servicemodel4.0a-cil || true
        sudo apt install -y libmono-system-serviceprocess4.0-cil || true
        sudo apt install -y libmono-system-threading-tasks-dataflow4.0-cil || true
        sudo apt install -y libmono-system-transactions4.0-cil || true
        sudo apt install -y libmono-system-web-abstractions4.0-cil || true
        sudo apt install -y libmono-system-web-applicationservices4.0-cil || true
        sudo apt install -y libmono-system-web-dynamicdata4.0-cil || true
        sudo apt install -y libmono-system-web-extensions-design4.0-cil || true
        sudo apt install -y libmono-system-web-extensions4.0-cil || true
        sudo apt install -y libmono-system-web-http-selfhost4.0-cil || true
        sudo apt install -y libmono-system-web-http-webhost4.0-cil || true
        sudo apt install -y libmono-system-web-http4.0-cil || true
        sudo apt install -y libmono-system-web-mobile4.0-cil || true
        sudo apt install -y libmono-system-web-mvc3.0-cil || true
        sudo apt install -y libmono-system-web-razor2.0-cil || true
        sudo apt install -y libmono-system-web-regularexpressions4.0-cil || true
        sudo apt install -y libmono-system-web-routing4.0-cil || true
        sudo apt install -y libmono-system-web-services4.0-cil || true
        sudo apt install -y libmono-system-web-webpages-deployment2.0-cil || true
        sudo apt install -y libmono-system-web-webpages-razor2.0-cil || true
        sudo apt install -y libmono-system-web-webpages2.0-cil || true
        sudo apt install -y libmono-system-web4.0-cil || true
        sudo apt install -y libmono-system-windows-forms-datavisualization4.0a-cil || true
        sudo apt install -y libmono-system-windows-forms4.0-cil || true
        sudo apt install -y libmono-system-windows4.0-cil || true
        sudo apt install -y libmono-system-workflow-activities4.0-cil || true
        sudo apt install -y libmono-system-workflow-componentmodel4.0-cil || true
        sudo apt install -y libmono-system-workflow-runtime4.0-cil || true
        sudo apt install -y libmono-system-xaml4.0-cil || true
        sudo apt install -y libmono-system-xml-linq4.0-cil || true
        sudo apt install -y libmono-system-xml-serialization4.0-cil || true
        sudo apt install -y libmono-system-xml4.0-cil || true
        sudo apt install -y libmono-system4.0-cil || true
        sudo apt install -y libmono-tasklets4.0-cil || true
        sudo apt install -y libmono-webbrowser4.0-cil || true
        sudo apt install -y libmono-webmatrix-data4.0-cil || true
        sudo apt install -y libmono-windowsbase4.0-cil || true
        sudo apt install -y libmono-xbuild-tasks4.0-cil || true
        sudo apt install -y libmonoboehm-2.0-1 || true
        sudo apt install -y libmonosgen-2.0-1 || true
        sudo apt install -y libmonosgen-2.0-dev || true
        sudo apt install -y libmount-dev || true
        sudo apt install -y libmpdec3 || true
        sudo apt install -y libmspack0 || true
        sudo apt install -y libnetplan0 || true
        sudo apt install -y libnettle8 || true
        sudo apt install -y libnginx-mod-http-geoip2 || true
        sudo apt install -y libnginx-mod-http-image-filter || true
        sudo apt install -y libnginx-mod-http-xslt-filter || true
        sudo apt install -y libnginx-mod-mail || true
        sudo apt install -y libnginx-mod-stream-geoip2 || true
        sudo apt install -y libnginx-mod-stream || true
        sudo apt install -y libnorm1 || true
        sudo apt install -y libnpth0 || true
        sudo apt install -y libnsl-dev || true
        sudo apt install -y libnsl2 || true
        sudo apt install -y libntfs-3g89 || true
        sudo apt install -y libobjc-11-dev || true
        sudo apt install -y libodbccr2 || true
        sudo apt install -y libodbcinst2 || true
        sudo apt install -y libopenexr-dev || true
        sudo apt install -y libopenexr25 || true
        sudo apt install -y libopenjp2-7-dev || true
        sudo apt install -y libostree-1-1 || true
        sudo apt install -y libpaper-utils || true
        sudo apt install -y libpaper1 || true
        sudo apt install -y libparted-fs-resize0 || true
        sudo apt install -y libparted2 || true
        sudo apt install -y libpcap0.8 || true
        sudo apt install -y libpcre16-3 || true
        sudo apt install -y libpcre3-dev || true
        sudo apt install -y libpcre32-3 || true
        sudo apt install -y libpcre3 || true
        sudo apt install -y libpcrecpp0v5 || true
        sudo apt install -y libperl5.34 || true
        sudo apt install -y libpgm-5.3-0 || true
        sudo apt install -y libpixman-1-dev || true
        sudo apt install -y libpng-dev || true
        sudo apt install -y libpng16-16 || true
        sudo apt install -y libprocps8 || true
        sudo apt install -y libprotobuf-lite23 || true
        sudo apt install -y libproxy1v5 || true
        sudo apt install -y libpsl5 || true
        sudo apt install -y libpthread-stubs0-dev || true
        sudo apt install -y libpython3.10-dev || true
        sudo apt install -y libpython3.10-minimal || true
        sudo apt install -y libpython3.10-stdlib || true
        sudo apt install -y libpython3.10 || true
        sudo apt install -y libqdbm14 || true
        sudo apt install -y libre2-9 || true
        sudo apt install -y libreadline-dev || true
        sudo apt install -y libreadline8 || true
        sudo apt install -y librpm9 || true
        sudo apt install -y librpmbuild9 || true
        sudo apt install -y librpmio9 || true
        sudo apt install -y librpmsign9 || true
        sudo apt install -y librsvg2-2 || true
        sudo apt install -y librsvg2-common || true
        sudo apt install -y librsvg2-dev || true
        sudo apt install -y libruby3.0 || true
        sudo apt install -y libsecret-1-0 || true
        sudo apt install -y libsecret-1-dev || true
        sudo apt install -y libsecret-common || true
        sudo apt install -y libselinux1-dev || true
        sudo apt install -y libsepol-dev || true
        sudo apt install -y libserf-1-1 || true
        sudo apt install -y libsgutils2-2 || true
        sudo apt install -y libsm-dev || true
        sudo apt install -y libsmbios-c2 || true
        sudo apt install -y libsnmp40 || true
        sudo apt install -y libsoup2.4-1 || true
        sudo apt install -y libsoup2.4-common || true
        sudo apt install -y libssh2-1 || true
        sudo apt install -y libssl1.1 || true
        sudo apt install -y libssl3 || true
        sudo apt install -y libstdc++-10-dev || true
        sudo apt install -y libstdc++-11-dev || true
        sudo apt install -y libsvn1 || true
        sudo apt install -y libtevent0 || true
        sudo apt install -y libtiff-dev || true
        sudo apt install -y libtiff5 || true
        sudo apt install -y libtiffxx5 || true
        sudo apt install -y libtinfo-dev || true
        sudo apt install -y libtinyxml2-9 || true
        sudo apt install -y libtirpc-dev || true
        sudo apt install -y libtirpc3 || true
        sudo apt install -y libtsan0 || true
        sudo apt install -y libtss2-esys-3.0.2-0 || true
        sudo apt install -y libtss2-mu0 || true
        sudo apt install -y libtss2-rc0 || true
        sudo apt install -y libtss2-sys1 || true
        sudo apt install -y libtss2-tcti-cmd0 || true
        sudo apt install -y libtss2-tcti-device0 || true
        sudo apt install -y libtss2-tcti-mssim0 || true
        sudo apt install -y libtss2-tcti-swtpm0 || true
        sudo apt install -y libucl1 || true
        sudo apt install -y libunistring2 || true
        sudo apt install -y libunwind-14-dev || true
        sudo apt install -y libunwind-14 || true
        sudo apt install -y liburcu8 || true
        sudo apt install -y libutf8proc2 || true
        sudo apt install -y libuv1 || true
        sudo apt install -y libwmf-0.2-7 || true
        sudo apt install -y libwmf-dev || true
        sudo apt install -y libwmflite-0.2-7 || true
        sudo apt install -y libx11-dev || true
        sudo apt install -y libx265-199 || true
        sudo apt install -y libxau-dev || true
        sudo apt install -y libxcb-dri2-0 || true
        sudo apt install -y libxcb-render0-dev || true
        sudo apt install -y libxcb-shm0-dev || true
        sudo apt install -y libxcb1-dev || true
        sudo apt install -y libxdmcp-dev || true
        sudo apt install -y libxext-dev || true
        sudo apt install -y libxkbfile-dev || true
        sudo apt install -y libxmlsec1-openssl || true
        sudo apt install -y libxmlsec1 || true
        sudo apt install -y libxrender-dev || true
        sudo apt install -y libxt-dev || true
        sudo apt install -y libxt6 || true
        sudo apt install -y libzen0v5 || true
        sudo apt install -y libzip4 || true
        sudo apt install -y linux-azure-6.8-cloud-tools-6.8.0-1041 || true
        sudo apt install -y linux-azure-6.8-headers-6.8.0-1041 || true
        sudo apt install -y linux-azure-6.8-tools-6.8.0-1041 || true
        sudo apt install -y linux-cloud-tools-6.8.0-1041-azure || true
        sudo apt install -y linux-headers-6.8.0-1041-azure || true
        sudo apt install -y linux-image-6.8.0-1041-azure || true
        sudo apt install -y linux-modules-6.8.0-1041-azure || true
        sudo apt install -y linux-tools-6.8.0-1041-azure || true
        sudo apt install -y lld-13 || true
        sudo apt install -y lld-14 || true
        sudo apt install -y lld-15 || true
        sudo apt install -y lldb-14 || true
        sudo apt install -y llvm-13-dev || true
        sudo apt install -y llvm-13-linker-tools || true
        sudo apt install -y llvm-13-runtime || true
        sudo apt install -y llvm-13-tools || true
        sudo apt install -y llvm-13 || true
        sudo apt install -y llvm-14-dev || true
        sudo apt install -y llvm-14-linker-tools || true
        sudo apt install -y llvm-14-runtime || true
        sudo apt install -y llvm-14-tools || true
        sudo apt install -y llvm-14 || true
        sudo apt install -y llvm-15-dev || true
        sudo apt install -y llvm-15-linker-tools || true
        sudo apt install -y llvm-15-runtime || true
        sudo apt install -y llvm-15-tools || true
        sudo apt install -y llvm-15 || true
        sudo apt install -y lsb-base || true
        sudo apt install -y mailcap || true
        sudo apt install -y mime-support || true
        sudo apt install -y mono-4.0-gac || true
        sudo apt install -y mono-4.0-service || true
        sudo apt install -y mono-complete || true
        sudo apt install -y mono-csharp-shell || true
        sudo apt install -y mono-devel || true
        sudo apt install -y mono-gac || true
        sudo apt install -y mono-llvm-support || true
        sudo apt install -y mono-llvm-tools || true
        sudo apt install -y mono-mcs || true
        sudo apt install -y mono-roslyn || true
        sudo apt install -y mono-runtime-common || true
        sudo apt install -y mono-runtime-sgen || true
        sudo apt install -y mono-runtime || true
        sudo apt install -y mono-utils || true
        sudo apt install -y mono-xbuild || true
        sudo apt install -y mono-xsp4-base || true
        sudo apt install -y mono-xsp4 || true
        sudo apt install -y monodoc-base || true
        sudo apt install -y monodoc-http || true
        sudo apt install -y monodoc-manual || true
        sudo apt install -y msbuild-libhostfxr || true
        sudo apt install -y msbuild-sdkresolver || true
        sudo apt install -y msbuild || true
        sudo apt install -y msodbcsql17 || true
        sudo apt install -y mssql-tools || true
        sudo apt install -y netcat || true
        sudo apt install -y nginx-core || true
        sudo apt install -y nuget || true
        sudo apt install -y odbcinst || true
        sudo apt install -y p7zip || true
        sudo apt install -y pass || true
        sudo apt install -y perl-modules-5.34 || true
        sudo apt install -y php8.1-amqp || true
        sudo apt install -y php8.1-apcu || true
        sudo apt install -y php8.1-bcmath || true
        sudo apt install -y php8.1-bz2 || true
        sudo apt install -y php8.1-cgi || true
        sudo apt install -y php8.1-cli || true
        sudo apt install -y php8.1-common || true
        sudo apt install -y php8.1-curl || true
        sudo apt install -y php8.1-dba || true
        sudo apt install -y php8.1-dev || true
        sudo apt install -y php8.1-enchant || true
        sudo apt install -y php8.1-fpm || true
        sudo apt install -y php8.1-gd || true
        sudo apt install -y php8.1-gmp || true
        sudo apt install -y php8.1-igbinary || true
        sudo apt install -y php8.1-imagick || true
        sudo apt install -y php8.1-imap || true
        sudo apt install -y php8.1-interbase || true
        sudo apt install -y php8.1-intl || true
        sudo apt install -y php8.1-ldap || true
        sudo apt install -y php8.1-mbstring || true
        sudo apt install -y php8.1-memcache || true
        sudo apt install -y php8.1-memcached || true
        sudo apt install -y php8.1-mongodb || true
        sudo apt install -y php8.1-msgpack || true
        sudo apt install -y php8.1-mysql || true
        sudo apt install -y php8.1-odbc || true
        sudo apt install -y php8.1-opcache || true
        sudo apt install -y php8.1-pcov || true
        sudo apt install -y php8.1-pgsql || true
        sudo apt install -y php8.1-phpdbg || true
        sudo apt install -y php8.1-pspell || true
        sudo apt install -y php8.1-readline || true
        sudo apt install -y php8.1-redis || true
        sudo apt install -y php8.1-snmp || true
        sudo apt install -y php8.1-soap || true
        sudo apt install -y php8.1-sqlite3 || true
        sudo apt install -y php8.1-sybase || true
        sudo apt install -y php8.1-tidy || true
        sudo apt install -y php8.1-xdebug || true
        sudo apt install -y php8.1-xml || true
        sudo apt install -y php8.1-xsl || true
        sudo apt install -y php8.1-yaml || true
        sudo apt install -y php8.1-zip || true
        sudo apt install -y php8.1-zmq || true
        sudo apt install -y php8.1 || true
        sudo apt install -y pkexec || true
        sudo apt install -y policykit-1 || true
        sudo apt install -y postgresql-14 || true
        sudo apt install -y postgresql-client-14 || true
        sudo apt install -y python3-distutils || true
        sudo apt install -y python3-importlib-metadata || true
        sudo apt install -y python3-jeepney || true
        sudo apt install -y python3-keyring || true
        sudo apt install -y python3-lib2to3 || true
        sudo apt install -y python3-lldb-14 || true
        sudo apt install -y python3-more-itertools || true
        sudo apt install -y python3-secretstorage || true
        sudo apt install -y python3-zipp || true
        sudo apt install -y python3.10-dev || true
        sudo apt install -y python3.10-minimal || true
        sudo apt install -y python3.10-venv || true
        sudo apt install -y python3.10 || true
        sudo apt install -y r-base-core || true
        sudo apt install -y r-base-dev || true
        sudo apt install -y r-base-html || true
        sudo apt install -y r-base || true
        sudo apt install -y r-cran-boot || true
        sudo apt install -y r-cran-class || true
        sudo apt install -y r-cran-cluster || true
        sudo apt install -y r-cran-codetools || true
        sudo apt install -y r-cran-foreign || true
        sudo apt install -y r-cran-kernsmooth || true
        sudo apt install -y r-cran-lattice || true
        sudo apt install -y r-cran-mass || true
        sudo apt install -y r-cran-matrix || true
        sudo apt install -y r-cran-mgcv || true
        sudo apt install -y r-cran-nlme || true
        sudo apt install -y r-cran-nnet || true
        sudo apt install -y r-cran-rpart || true
        sudo apt install -y r-cran-spatial || true
        sudo apt install -y r-cran-survival || true
        sudo apt install -y r-doc-html || true
        sudo apt install -y r-recommended || true
        sudo apt install -y referenceassemblies-pcl || true
        sudo apt install -y ruby3.0-dev || true
        sudo apt install -y ruby3.0-doc || true
        sudo apt install -y ruby3.0 || true
        sudo apt install -y session-migration || true
        sudo apt install -y subversion || true
        sudo apt install -y swig4.0 || true
        sudo apt install -y ubuntu-advantage-tools || true
        sudo apt install -y unixodbc-common || true
        sudo apt install -y unixodbc-dev || true
        sudo apt install -y unixodbc || true
        sudo apt install -y usrmerge || true
        sudo apt install -y uuid-dev || true
        sudo apt install -y x11proto-dev || true
        sudo apt install -y xorg-sgml-doctools || true
        sudo apt install -y xorriso || true
        sudo apt install -y xtrans-dev || true

    - name: Setup .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: 8.0.x
    - name: Restore dependencies
      run: dotnet restore
    - name: Build
      run: dotnet build --no-restore
    - name: Test
      run: dotnet test --no-build --verbosity normal
      
  build_22_04:

    runs-on: ubuntu-22.04

    env:
      DISPLAY: :10
      
    steps:
    - uses: actions/checkout@v4
    - run: |
        apt list --installed
    - run: |
        sudo apt install -y libglfw3
    - name: Setup .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: 8.0.x
    - name: Restore dependencies
      run: dotnet restore
    - name: Build
      run: dotnet build --no-restore
    - name: Test
      run: dotnet test --no-build -v d
